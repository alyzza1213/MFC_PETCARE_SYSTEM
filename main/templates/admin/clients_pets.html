{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Clients & Pets | MFC Pet Life</title>
    <link rel="stylesheet" href="{% static 'css/admin/clients_pets.css' %}">

<style>
    .summary {
    display: flex;
    gap: 20px;
    margin-bottom: 30px;
}

.summary a {
    flex: 1;
    display: block;
    background: white;
    padding: 20px;
    border-radius: 12px;
    text-decoration: none;
    color: #333;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    transition: transform 0.2s, box-shadow 0.2s;
    text-align: center;
}

.summary a:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}

.summary a span {
    display: block;
    font-size: 14px;
    color: #777;
    margin-bottom: 6px;
}

.summary a strong {
    font-size: 26px;
    font-weight: 700;
    color: #4CAF50;
}
</style>
</head>
<body>

<div class="sidebar">
    <h2>MFC Pet Life</h2>
    <a href="{% url 'admin_dashboard' %}">Dashboard</a>
    <a href="{% url 'clients_pets' %}" class="active">Clients & Pets</a>
    <a href="{% url 'appointment_list' %}">Appointment List</a>
    <a href="{% url 'vet_availability_admin' %}">Vet Availability</a>
    <a href="{% url 'logout' %}">Logout</a>
</div>

<div class="main-content">
    <h1 class="title">üë• Clients & Pets</h1>

    <!-- SEARCH BAR -->
    <div class="search-container">
        <input
            type="text"
            id="searchInput"
            placeholder="Search client or pet name..."
        >
    </div>

    <!-- SUMMARY -->
    <div class="summary">
        <a href="?show=clients">
            <span>Total Clients</span>
            <strong>{{ clients|length }}</strong>
        </a>
        <a href="?show=pets">
            <span>Total Pets</span>
            <strong>{{ total_pets }}</strong>
        </a>
    </div>

    <!-- CLIENTS -->
    {% if show == "clients" %}
    <div class="client-list">
        {% for client in clients %}
        <a href="{% url 'client_detail' client.id %}" class="client-card searchable">
            <div class="client-info-left">
                <div class="client-number">{{ forloop.counter }}</div>
                <div class="client-name">{{ client.username }}</div>
            </div>
            <div class="client-info-right">
                Joined {{ client.date_joined|date:"M d, Y" }}
                <div class="client-meta">
                    <span class="tag">View Profile</span>
                </div>
            </div>
        </a>
        {% empty %}
        <p>No clients found.</p>
        {% endfor %}
    </div>
    {% endif %}

    <!-- PETS -->
    {% if show == "pets" %}
    <div class="client-list">
        {% for pet in pets %}
        <div class="client-card searchable"
             onclick="window.location.href='{% url 'pet_detail_admin' pet.id %}'">
            <div class="client-info-left">
                <span class="pet-icon">üêæ</span>
                <div class="client-name">{{ pet.name }}</div>
            </div>
            <div class="client-info-right">
                Owner: {{ pet.owner.username }}
            </div>
        </div>
        {% empty %}
        <p>No pets found.</p>
        {% endfor %}
    </div>
    {% endif %}
</div>

<script src="{% static 'js/admin/clients_pets.js' %}"></script>
</body>
</html>
