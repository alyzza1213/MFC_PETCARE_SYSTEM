{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pet Detail | MFC Pet Life Admin</title>
<link rel="stylesheet" href="{% static 'css/admin/pet_detail_admin.css' %}">
</head>
<body>


<div class="sidebar">
    <h2>MFC Pet Life</h2>
    <a href="{% url 'admin_dashboard' %}">Dashboard</a>
    <a href="{% url 'clients_pets' %}">Clients & Pets</a>
    <a href="{% url 'appointment_list' %}">Appointments</a>
    <a href="{% url 'logout' %}">Logout</a>
</div>

<div class="main-content">


    <div class="pet-card">
        <h1>ğŸ¾ {{ pet.name|default:"No Name" }}</h1>
        <p><strong>Species:</strong> {{ pet.species|default:"-" }}</p>
        <p><strong>Breed:</strong> {{ pet.breed|default:"-" }}</p>
        <p><strong>Birthday:</strong> {{ pet.birthday|date:"M d, Y"|default:"-" }}</p>
        <p><strong>Age:</strong> {{ pet.calculate_age|default:"-" }}</p>
    </div>

    <div class="records-section">

       
        <div class="record-box">
            <h2>ğŸ’‰ Vaccination Records</h2>

           
            <p style="color:#777;">Click below to view full vaccination records.</p>

            <a href="{% url 'vaccine_records_admin' pet.id %}" class="btn">View Vaccine Records</a>
        </div>


   
<div class="record-box">
    <h2>ğŸ©ºğŸ‘¨â€âš•ï¸ Medical History</h2>

    {% if checkups or consultations %}

        {% for c in checkups %}
        <div class="record-card">
            <p><strong>Date:</strong> {{ c.date|date:"M d, Y" }}</p>
            <p><strong>Weight:</strong> {{ c.weight|default:"N/A" }} kg</p>
            <p><strong>Findings:</strong> {{ c.findings|default:"No notes" }}</p>
            <p><strong>Vet:</strong> {{ c.vet.username|default:"N/A" }}</p>

            <div class="record-actions">
                <a href="#" class="btn btn-view">ğŸ” View Details</a>
            </div>
        </div>
        {% endfor %}

        {% for con in consultations %}
        <div class="record-card">
            <p><strong>Date:</strong> {{ con.date|date:"M d, Y" }}</p>
            <p><strong>Concern:</strong> {{ con.concern|default:"N/A" }}</p>
            <p><strong>Notes:</strong> {{ con.notes|default:"No notes" }}</p>
            <p><strong>Vet:</strong> {{ con.vet.username|default:"N/A" }}</p>

            <div class="record-actions">
                <a href="#" class="btn btn-view">ğŸ” View Details</a>
            </div>
        </div>
        {% endfor %}

    {% else %}
        <p>No medical history found.</p>
    {% endif %}

     <a href="{% url 'medical_history' pet.id %}" class="btn">View Medical History</a>

</div>


        
        <div class="record-box">
            <h2>âœ‚ï¸ Grooming History</h2>

            {% if grooming %}
                {% for g in grooming %}
                <div class="record-card">
                    <p><strong>Date:</strong> {{ g.date|date:"M d, Y" }}</p>
                    <p><strong>Service:</strong> {{ g.service_type }}</p>
                    <p><strong>Notes:</strong> {{ g.notes|default:"No notes" }}</p>
                    <p><strong>Groomer:</strong> {{ g.staff.username }}</p>

                    <div class="record-actions">
                        <a href="{% url 'edit_grooming' g.id %}" class="btn">âœ Edit</a>
                        <a href="{% url 'delete_grooming' g.id %}" class="btn" onclick="return confirm('Delete this grooming record?');">ğŸ—‘ Delete</a>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <p>No grooming history found.</p>
            {% endif %}

            <a href="{% url 'view_grooming' pet.id %}" class="btn">View Grooming History</a>
        </div>

    </div>

</div>

</body>
</html>
