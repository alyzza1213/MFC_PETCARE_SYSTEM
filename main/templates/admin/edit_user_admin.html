{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Clients & Pets | MFC Pet Life</title>
<link rel="stylesheet" href="{% static 'css/admin/edit_user_admin.css' %}">

</head>
<body>
<div class="main-content">
    <h1>ğŸ‘¥ Clients</h1>

    {% if clients %}
        {% for client in clients %}
        <div class="client-card">
            <h2>{{ client.username }}</h2>
            <p><strong>Email:</strong> {{ client.email }}</p>
            <p><strong>Date Joined:</strong> {{ client.date_joined|date:"M d, Y" }}</p>

            <h3>ğŸ¶ Pets</h3>
            {% if client.pet_set.all %}
            <div class="pets-container">
                {% for pet in client.pet_set.all %}
                <div class="pet-card">
                    <a href="{% url 'pet_detail_admin' pet.id %}" class="pet-name">{{ pet.name }}</a>
                    <p class="pet-info">{{ pet.species }} - {{ pet.breed|default:"N/A" }}</p>
                    <p class="pet-info">Age: {% if pet.birthday %}{{ pet.calculate_age }}{% else %}N/A{% endif %}</p>
                    <div class="pet-actions">
                        <a href="{% url 'edit_pet_admin' pet.id %}">âœ Edit</a>
                        <a href="{% url 'delete_pet_admin' pet.id %}" onclick="return confirm('Delete this pet?')">ğŸ—‘ Delete</a>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <p class="empty-message">No pets registered for this client.</p>
            {% endif %}
        </div>
        {% endfor %}
    {% else %}
    <p class="empty-message">No clients found.</p>
    {% endif %}
</div>
</body>
</html>
